{"ast":null,"code":"import { Dispatch } from 'redux';\nimport { FrostError } from 'src/common/error';\nimport FrostAPI from '../../../network/api';\nimport { ACCOUNT_FETCHING, SIGNED_IN, SIGNED_OUT, FORCE_SET_ACCOUNTINFO } from './action';\nimport { AccountInfo } from './model';\nexport const removeFrostErrorFromStateActionCreator = () => (dispatch, getState) => {\n  dispatch({\n    type: FORCE_SET_ACCOUNTINFO,\n    accountInfo: new AccountInfo({ ...(getState().accountReducer || {}),\n      frostErrorObj: undefined\n    })\n  });\n};\nexport const signInActionCreatorAsync = (idOrEmail, password) => async dispatch => {\n  dispatch({\n    type: ACCOUNT_FETCHING\n  });\n  return new FrostAPI().signIn(idOrEmail, password).then(result => dispatch({\n    type: SIGNED_IN,\n    accountInfo: new AccountInfo({\n      isSignedIn: true,\n      uuid: result.userData.uuid,\n      id: result.userData.id,\n      nick: result.userData.nickname,\n      email: result.userData.email,\n      emailVerified: result.userData.email_verified,\n      profileImageUrl: result.userData.profile_image\n    })\n  }), reason => dispatch({\n    type: SIGNED_OUT,\n    accountInfo: new AccountInfo({\n      isSignedIn: false,\n      frostErrorObj: reason\n    })\n  }));\n};\nexport const signUpActionCreatorAsync = (id, email, nick, password) => async dispatch => {\n  dispatch({\n    type: ACCOUNT_FETCHING\n  });\n  new FrostAPI().signUp(id, email, password, nick).then(result => dispatch({\n    type: SIGNED_IN,\n    accountInfo: new AccountInfo({\n      isSignedIn: true,\n      uuid: result.userData.uuid,\n      id: result.userData.id,\n      nick: result.userData.nickname,\n      email: result.userData.email,\n      emailVerified: result.userData.email_verified,\n      profileImageUrl: result.userData.profile_image\n    })\n  }), reason => dispatch({\n    type: SIGNED_OUT,\n    accountInfo: new AccountInfo({\n      isSignedIn: false,\n      frostErrorObj: reason\n    })\n  }));\n};\nexport const signOutActionCreatorAsync = () => async dispatch => {\n  dispatch({\n    type: ACCOUNT_FETCHING\n  });\n  new FrostAPI().signOut().finally(() => dispatch({\n    type: SIGNED_OUT,\n    accountInfo: new AccountInfo({\n      isSignedIn: false\n    })\n  }));\n};\nexport const refreshAccessTokenActionCreatorAsync = () => async dispatch => {\n  dispatch({\n    type: ACCOUNT_FETCHING\n  });\n  new FrostAPI().refreshAuthentications().then(result => dispatch({\n    type: SIGNED_IN,\n    accountInfo: new AccountInfo({\n      isSignedIn: true,\n      uuid: result.userData.uuid,\n      id: result.userData.id,\n      nick: result.userData.nickname,\n      email: result.userData.email,\n      emailVerified: result.userData.email_verified,\n      profileImageUrl: result.userData.profile_image\n    })\n  })).catch(reason => dispatch({\n    type: SIGNED_OUT,\n    accountInfo: new AccountInfo({\n      isSignedIn: false,\n      frostErrorObj: reason\n    })\n  }));\n};","map":{"version":3,"sources":["C:/Users/MUsoftware/Desktop/project/MUsoftware/mudev.cc/src/redux/modules/account/action_creator.js"],"names":["Dispatch","FrostError","FrostAPI","ACCOUNT_FETCHING","SIGNED_IN","SIGNED_OUT","FORCE_SET_ACCOUNTINFO","AccountInfo","removeFrostErrorFromStateActionCreator","dispatch","getState","type","accountInfo","accountReducer","frostErrorObj","undefined","signInActionCreatorAsync","idOrEmail","password","signIn","then","result","isSignedIn","uuid","userData","id","nick","nickname","email","emailVerified","email_verified","profileImageUrl","profile_image","reason","signUpActionCreatorAsync","signUp","signOutActionCreatorAsync","signOut","finally","refreshAccessTokenActionCreatorAsync","refreshAuthentications","catch"],"mappings":"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","sourcesContent":["import { Dispatch } from 'redux';\r\nimport { FrostError } from 'src/common/error';\r\nimport FrostAPI from '../../../network/api';\r\n\r\nimport {\r\n    ACCOUNT_FETCHING,\r\n    SIGNED_IN,\r\n    SIGNED_OUT,\r\n    FORCE_SET_ACCOUNTINFO,\r\n} from './action';\r\nimport { AccountInfo } from './model';\r\n\r\nexport const removeFrostErrorFromStateActionCreator = () => (dispatch, getState) => {\r\n    dispatch({\r\n        type: FORCE_SET_ACCOUNTINFO,\r\n        accountInfo: new AccountInfo({\r\n            ...(getState().accountReducer || {}),\r\n            frostErrorObj: undefined,\r\n        }),\r\n    });\r\n}\r\n\r\nexport const signInActionCreatorAsync = (idOrEmail, password) => async dispatch => {\r\n    dispatch({ type: ACCOUNT_FETCHING });\r\n    return (new FrostAPI())\r\n        .signIn(idOrEmail, password)\r\n        .then(\r\n            (result: FrostAPI) => dispatch({\r\n                type: SIGNED_IN,\r\n                accountInfo: new AccountInfo({\r\n                    isSignedIn: true,\r\n                    uuid: result.userData.uuid,\r\n                    id: result.userData.id,\r\n                    nick: result.userData.nickname,\r\n                    email: result.userData.email,\r\n                    emailVerified: result.userData.email_verified,\r\n                    profileImageUrl: result.userData.profile_image,\r\n                }),\r\n            }),\r\n            (reason: FrostError) => dispatch({\r\n                type: SIGNED_OUT,\r\n                accountInfo: new AccountInfo({\r\n                    isSignedIn: false,\r\n                    frostErrorObj: reason,\r\n                }),\r\n            })\r\n        );\r\n}\r\n\r\nexport const signUpActionCreatorAsync = (id, email, nick, password) => async dispatch => {\r\n    dispatch({ type: ACCOUNT_FETCHING });\r\n    (new FrostAPI())\r\n        .signUp(id, email, password, nick)\r\n        .then(\r\n            (result: FrostAPI) => dispatch({\r\n                type: SIGNED_IN,\r\n                accountInfo: new AccountInfo({\r\n                    isSignedIn: true,\r\n                    uuid: result.userData.uuid,\r\n                    id: result.userData.id,\r\n                    nick: result.userData.nickname,\r\n                    email: result.userData.email,\r\n                    emailVerified: result.userData.email_verified,\r\n                    profileImageUrl: result.userData.profile_image,\r\n                }),\r\n            }),\r\n            (reason: FrostError) => dispatch({\r\n                type: SIGNED_OUT,\r\n                accountInfo: new AccountInfo({\r\n                    isSignedIn: false,\r\n                    frostErrorObj: reason,\r\n                }),\r\n            })\r\n        );\r\n}\r\n\r\nexport const signOutActionCreatorAsync = () => async dispatch => {\r\n    dispatch({ type: ACCOUNT_FETCHING });\r\n    (new FrostAPI())\r\n        .signOut()\r\n        .finally(\r\n            () => dispatch({\r\n                type: SIGNED_OUT,\r\n                accountInfo: new AccountInfo({ isSignedIn: false }),\r\n            })\r\n        );\r\n}\r\n\r\nexport const refreshAccessTokenActionCreatorAsync = () => async dispatch => {\r\n    dispatch({ type: ACCOUNT_FETCHING });\r\n    (new FrostAPI())\r\n        .refreshAuthentications()\r\n        .then((result: FrostAPI) => dispatch({\r\n            type: SIGNED_IN,\r\n            accountInfo: new AccountInfo({\r\n                isSignedIn: true,\r\n                uuid: result.userData.uuid,\r\n                id: result.userData.id,\r\n                nick: result.userData.nickname,\r\n                email: result.userData.email,\r\n                emailVerified: result.userData.email_verified,\r\n                profileImageUrl: result.userData.profile_image,\r\n            }),\r\n        }))\r\n        .catch((reason: FrostError) => dispatch({\r\n            type: SIGNED_OUT,\r\n            accountInfo: new AccountInfo({\r\n                isSignedIn: false,\r\n                frostErrorObj: reason,\r\n            }),\r\n        }));\r\n}\r\n"]},"metadata":{},"sourceType":"module"}