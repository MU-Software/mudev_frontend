{"ast":null,"code":"export class PlaylistListener {\n  constructor(playlistListenerObj) {\n    this.uuid = void 0;\n    this.name = void 0;\n    this.img_url = void 0;\n    Object.assign(this, playlistListenerObj);\n  }\n\n}\nPlaylistListener.res_type = 'playco_playlist_listener';\nexport class PlaylistItem {\n  // will be used in client only\n  constructor(playlistItemObj) {\n    this.uuid = void 0;\n    this.index = void 0;\n    this.name = void 0;\n    this.data = void 0;\n    this.added_by_uuid = void 0;\n    this.added_by_nick = void 0;\n    this.link = void 0;\n    this.link_type = void 0;\n    this.link_id = void 0;\n    this.current_listener = [];\n    Object.assign(this, playlistItemObj);\n  }\n\n}\nPlaylistItem.res_type = 'playco_playlist_item';\nexport class Playlist {\n  // will be used in client only\n  constructor(playlistObj) {\n    var _playlistObj$current_;\n\n    this.uuid = void 0;\n    this.index = void 0;\n    this.name = void 0;\n    this.description = void 0;\n    this.created_by_uuid = void 0;\n    this.created_by_nick = void 0;\n    this.blocked_at = null;\n    this.why_blocked = null;\n    this.public_accessable = void 0;\n    this.public_modifiable = void 0;\n    this.public_item_appendable = void 0;\n    this.public_item_orderable = void 0;\n    this.public_item_deletable = void 0;\n    this.items = void 0;\n    this.current_playing_item_index = 0;\n    this.current_listener = [];\n    this.hash = '';\n    this.uuid = playlistObj.uuid;\n    this.index = playlistObj.index;\n    this.name = playlistObj.name;\n\n    if (!Object.prototype.hasOwnProperty.call(playlistObj, 'blocked_at')) {\n      this.created_by_uuid = playlistObj.created_by_uuid;\n      this.created_by_nick = playlistObj.created_by_nick;\n      this.public_accessable = playlistObj.public_accessable;\n      this.public_modifiable = playlistObj.public_modifiable;\n      this.public_item_appendable = playlistObj.public_item_appendable;\n      this.public_item_orderable = playlistObj.public_item_orderable;\n      this.public_item_deletable = playlistObj.public_item_deletable;\n      this.items = playlistObj.items;\n    } else {\n      this.created_by_uuid = 0;\n      this.created_by_nick = '';\n      this.public_accessable = false;\n      this.public_modifiable = false;\n      this.public_item_appendable = false;\n      this.public_item_orderable = false;\n      this.public_item_deletable = false;\n      this.items = [];\n      this.blocked_at = playlistObj.blocked_at;\n      this.why_blocked = playlistObj.why_blocked;\n    }\n\n    this.current_playing_item_index = (_playlistObj$current_ = playlistObj.current_playing_item_index) !== null && _playlistObj$current_ !== void 0 ? _playlistObj$current_ : 0;\n  }\n\n  get listener() {\n    const result = [];\n    const tmpResultUUIDArray = [];\n    this.items.map(playlistItemValue => {\n      playlistItemValue.current_listener.forEach(playlistItemListenerValue => {\n        if (tmpResultUUIDArray.includes(playlistItemListenerValue.uuid)) return;\n        result.push(playlistItemListenerValue);\n        tmpResultUUIDArray.push(playlistItemListenerValue.uuid);\n      });\n    });\n    return result;\n  }\n\n  get asConfig() {\n    return new PlaylistConfig({\n      name: this.name,\n      description: this.description,\n      public_accessable: this.public_accessable,\n      public_item_appendable: this.public_item_appendable,\n      public_item_deletable: this.public_item_deletable,\n      public_item_orderable: this.public_item_orderable\n    });\n  }\n\n}\nPlaylist.res_type = 'playco_playlist';\nexport class PlaylistConfig {\n  constructor(playlistConfigObj) {\n    this.name = void 0;\n    this.description = void 0;\n    this.public_accessable = void 0;\n    this.public_item_appendable = void 0;\n    this.public_item_orderable = void 0;\n    this.public_item_deletable = void 0;\n    Object.assign(this, playlistConfigObj);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/MUsoftware/Desktop/project/MUsoftware/mudev.cc/src/ui/page/playco/playco/model.ts"],"names":["PlaylistListener","constructor","playlistListenerObj","uuid","name","img_url","Object","assign","res_type","PlaylistItem","playlistItemObj","index","data","added_by_uuid","added_by_nick","link","link_type","link_id","current_listener","Playlist","playlistObj","description","created_by_uuid","created_by_nick","blocked_at","why_blocked","public_accessable","public_modifiable","public_item_appendable","public_item_orderable","public_item_deletable","items","current_playing_item_index","hash","prototype","hasOwnProperty","call","listener","result","tmpResultUUIDArray","map","playlistItemValue","forEach","playlistItemListenerValue","includes","push","asConfig","PlaylistConfig","playlistConfigObj"],"mappings":"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","sourcesContent":["export class PlaylistListener {\r\n    public static readonly res_type = 'playco_playlist_listener';\r\n\r\n    uuid: number;\r\n    name: string;\r\n    img_url?: string;\r\n\r\n    constructor(playlistListenerObj: Partial<PlaylistListener>) {\r\n        Object.assign(this, playlistListenerObj);\r\n    }\r\n}\r\n\r\nexport class PlaylistItem {\r\n    public static readonly res_type = 'playco_playlist_item';\r\n\r\n    uuid: number;\r\n    index: string;\r\n    name: string;\r\n    data: Record<string, unknown>;\r\n\r\n    added_by_uuid: number;\r\n    added_by_nick: string;\r\n\r\n    link: string;\r\n    link_type: string;\r\n    link_id: string;\r\n\r\n    // will be used in client only\r\n    current_listener: PlaylistListener[] = [];\r\n\r\n    constructor(playlistItemObj: Partial<PlaylistItem>) {\r\n        Object.assign(this, playlistItemObj);\r\n    }\r\n}\r\n\r\nexport class Playlist {\r\n    public static readonly res_type = 'playco_playlist';\r\n\r\n    uuid: number;\r\n    index: number;\r\n    name: string;\r\n    description?: string;\r\n\r\n    created_by_uuid: number;\r\n    created_by_nick: string;\r\n\r\n    blocked_at?: string | null = null;\r\n    why_blocked?: string | null = null;\r\n\r\n    public_accessable: boolean;\r\n    public_modifiable: boolean;\r\n    public_item_appendable: boolean;\r\n    public_item_orderable: boolean;\r\n    public_item_deletable: boolean;\r\n\r\n    items: PlaylistItem[];\r\n\r\n    // will be used in client only\r\n    current_playing_item_index: number = 0;\r\n    current_listener: PlaylistListener[] = [];\r\n    hash: string = ''\r\n\r\n    constructor(playlistObj: Partial<Playlist>) {\r\n        this.uuid = playlistObj.uuid;\r\n        this.index = playlistObj.index;\r\n        this.name = playlistObj.name;\r\n\r\n        if (!Object.prototype.hasOwnProperty.call(playlistObj, 'blocked_at')) {\r\n            this.created_by_uuid = playlistObj.created_by_uuid;\r\n            this.created_by_nick = playlistObj.created_by_nick;\r\n\r\n            this.public_accessable = playlistObj.public_accessable;\r\n            this.public_modifiable = playlistObj.public_modifiable;\r\n            this.public_item_appendable = playlistObj.public_item_appendable;\r\n            this.public_item_orderable = playlistObj.public_item_orderable;\r\n            this.public_item_deletable = playlistObj.public_item_deletable;\r\n\r\n            this.items = playlistObj.items;\r\n        } else {\r\n            this.created_by_uuid = 0;\r\n            this.created_by_nick = '';\r\n\r\n            this.public_accessable = false;\r\n            this.public_modifiable = false;\r\n            this.public_item_appendable = false;\r\n            this.public_item_orderable = false;\r\n            this.public_item_deletable = false;\r\n\r\n            this.items = [];\r\n\r\n            this.blocked_at = playlistObj.blocked_at;\r\n            this.why_blocked = playlistObj.why_blocked;\r\n        }\r\n\r\n        this.current_playing_item_index = playlistObj.current_playing_item_index ?? 0;\r\n    }\r\n\r\n    get listener(): PlaylistListener[] {\r\n        const result: PlaylistListener[] = [];\r\n        const tmpResultUUIDArray: number[] = [];\r\n        this.items.map((playlistItemValue) => {\r\n            playlistItemValue.current_listener.forEach((playlistItemListenerValue) => {\r\n                if (tmpResultUUIDArray.includes(playlistItemListenerValue.uuid))\r\n                    return;\r\n\r\n                result.push(playlistItemListenerValue);\r\n                tmpResultUUIDArray.push(playlistItemListenerValue.uuid);\r\n            });\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    get asConfig(): PlaylistConfig {\r\n        return new PlaylistConfig({\r\n            name: this.name,\r\n            description: this.description,\r\n\r\n            public_accessable: this.public_accessable,\r\n            public_item_appendable: this.public_item_appendable,\r\n            public_item_deletable: this.public_item_deletable,\r\n            public_item_orderable: this.public_item_orderable,\r\n        });\r\n    }\r\n}\r\n\r\nexport class PlaylistConfig {\r\n    name: string;\r\n    description?: string;\r\n\r\n    public_accessable?: boolean;\r\n    public_item_appendable?: boolean;\r\n    public_item_orderable?: boolean;\r\n    public_item_deletable?: boolean;\r\n\r\n    constructor(playlistConfigObj: Partial<PlaylistConfig>) {\r\n        Object.assign(this, playlistConfigObj);\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}