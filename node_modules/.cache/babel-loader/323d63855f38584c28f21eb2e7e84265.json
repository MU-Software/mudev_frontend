{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MUsoftware\\\\Desktop\\\\project\\\\MUsoftware\\\\mudev.cc\\\\src\\\\ui\\\\page\\\\playco\\\\playlistResource.tsx\";\nimport React from 'react';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport Icon from '@mdi/react';\nimport { mdiPlus, mdiTools, mdiAccountCircle } from '@mdi/js';\nimport { ListRow } from \"../../common/element/muListRow\";\nimport { Divider } from \"../../common/element/divider\";\nimport { PHButton } from \"../../common/element/muButton\";\nimport { YoutubeThumbnail } from '../../common/element/util/youtubeThumbnail';\nimport './playlistDetailPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class PlaylistListener {\n  constructor(inObj) {\n    var _inObj$img_url;\n\n    this.uuid = void 0;\n    this.name = void 0;\n    this.img_url = void 0;\n    this.uuid = inObj.uuid;\n    this.name = inObj.name;\n    this.img_url = (_inObj$img_url = inObj.img_url) !== null && _inObj$img_url !== void 0 ? _inObj$img_url : null;\n  }\n\n}\nPlaylistListener.res_type = 'playco_playlist_listener';\nexport class PlaylistItem {\n  // will be used in client only\n  constructor(inObj) {\n    this.uuid = void 0;\n    this.index = void 0;\n    this.name = void 0;\n    this.data = void 0;\n    this.added_by_uuid = void 0;\n    this.added_by_nick = void 0;\n    this.link = void 0;\n    this.link_type = void 0;\n    this.link_id = void 0;\n    this.current_listener = void 0;\n    this.uuid = inObj.uuid;\n    this.index = inObj.index;\n    this.name = inObj.name;\n    this.data = inObj.data;\n    this.added_by_uuid = inObj.added_by_uuid;\n    this.added_by_nick = inObj.added_by_nick;\n    this.link = inObj.link;\n    this.link_type = inObj.link_type;\n    this.link_id = inObj.link_id;\n    this.current_listener = inObj.current_listener || [];\n  }\n\n}\nPlaylistItem.res_type = 'playco_playlist_item';\nexport class Playlist {\n  // will be used in client only\n  constructor(inObj) {\n    var _inObj$current_playin;\n\n    this.uuid = void 0;\n    this.index = void 0;\n    this.name = void 0;\n    this.created_by_uuid = void 0;\n    this.created_by_nick = void 0;\n    this.blocked_at = null;\n    this.why_blocked = null;\n    this.public_accessable = void 0;\n    this.public_modifiable = void 0;\n    this.items = void 0;\n    this.current_playing_item_index = void 0;\n    this.current_listener = [];\n    this.uuid = inObj.uuid;\n    this.index = inObj.index;\n    this.name = inObj.name;\n\n    if (!Object.prototype.hasOwnProperty.call(inObj, 'blocked_at')) {\n      this.created_by_uuid = inObj.created_by_uuid;\n      this.created_by_nick = inObj.created_by_nick;\n      this.public_accessable = inObj.public_accessable;\n      this.public_modifiable = inObj.public_modifiable;\n      this.items = inObj.items;\n    } else {\n      this.created_by_uuid = 0;\n      this.created_by_nick = '';\n      this.public_accessable = false;\n      this.public_modifiable = false;\n      this.items = [];\n      this.blocked_at = inObj.blocked_at;\n      this.why_blocked = inObj.why_blocked;\n    }\n\n    this.current_playing_item_index = (_inObj$current_playin = inObj.current_playing_item_index) !== null && _inObj$current_playin !== void 0 ? _inObj$current_playin : 0;\n  }\n\n  get listener() {\n    const result = [];\n    const tmpResultUUIDArray = [];\n    this.items.map((playlistItemValue, playlistItemIndex, playlistItemArray) => {\n      playlistItemValue.current_listener.forEach((playlistItemListenerValue, playlistItemListenerIndex, playlistItemListenerArray) => {\n        if (tmpResultUUIDArray.includes(playlistItemListenerValue.uuid)) return;\n        result.push(playlistItemListenerValue);\n        tmpResultUUIDArray.push(playlistItemListenerValue.uuid);\n      });\n    });\n    return result;\n  }\n\n}\nPlaylist.res_type = 'playco_playlist';\nexport const PlaylistDetailListener = props => {\n  return /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n    placement: \"bottom\",\n    overlay: tooltipProps => /*#__PURE__*/_jsxDEV(Tooltip, { ...tooltipProps,\n      children: props.nick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 36\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Icon, {\n      path: mdiAccountCircle,\n      size: \"16pt\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 12\n  }, this);\n};\n_c = PlaylistDetailListener;\nexport const PlaylistDetailDummyListener = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '16pt'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 12\n  }, this);\n};\n_c2 = PlaylistDetailDummyListener;\nexport const PlaylistDetailItem = props => {\n  const isSelected = props.selected || false;\n  return /*#__PURE__*/_jsxDEV(ListRow, {\n    onClick: isSelected ? null : () => alert('1'),\n    className: \"playCoPlaylistDetailListItem\",\n    itemWidth: [20, 15],\n    style: {\n      // This cannot be moved to css,\n      // as we have to overwrite the element style of ListRow.\n      alignItems: 'center',\n      marginLeft: '0',\n      marginRight: '0',\n      borderRadius: '0.3rem',\n      ...(isSelected ? {\n        border: '1px solid rgba(255, 255, 255, 1)',\n        backgroundColor: 'rgba(0, 0, 0, 0.4)'\n      } : {})\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"playCoPlaylistDetailListItemThumbnailContainer\",\n      children: /*#__PURE__*/_jsxDEV(YoutubeThumbnail, {\n        youtubeId: props.youtubeId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 73\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"playCoPlaylistDetailListItemInfoContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playCoPlaylistDetailListItemTitle\",\n        children: props.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playCoPlaylistDetailListItemListenerListContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"playCoPlaylistDetailListItemListenerList\",\n          children: props.listeners.length ? props.listeners.map((value, index, array) => {\n            return /*#__PURE__*/_jsxDEV(PlaylistDetailListener, {\n              uuid: value.uuid,\n              nick: value.name,\n              imgUrl: value.img_url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 32\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(PlaylistDetailDummyListener, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 27\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 12\n  }, this);\n};\n_c3 = PlaylistDetailItem;\nexport const PlaylistDetail = props => {\n  return /*#__PURE__*/_jsxDEV(\"aside\", {\n    className: \"playCoPlaylistDetailList\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: props.playlistData.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      style: {\n        margin: 'unset',\n        marginLeft: '0',\n        marginRight: '0',\n        marginTop: '1.25rem',\n        marginBottom: '1.25rem'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      title: \"Add item on playlist\",\n      placeholder: \"\\uC7AC\\uC0DD\\uBAA9\\uB85D\\uC5D0 \\uCD94\\uAC00\\uD560 URL\",\n      className: \"playCoPlaylistDetailAddTextField\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"playCoPlaylistDetailBtnGroup\",\n      children: [/*#__PURE__*/_jsxDEV(PHButton, {\n        smaller: true,\n        variant: \"outline-warning\",\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          path: mdiTools,\n          size: \"1.1rem\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 17\n        }, this), \"\\xA0\\xA0\\uC7AC\\uC0DD\\uBAA9\\uB85D \\uC124\\uC815\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(PHButton, {\n        smaller: true,\n        variant: \"outline-info\",\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          path: mdiPlus,\n          size: \"1.1rem\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }, this), \"\\xA0\\xA0\\uC7AC\\uC0DD\\uBAA9\\uB85D\\uC5D0 \\uCD94\\uAC00\\uD558\\uAE30\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: props.playlistData.items.length ? props.playlistData.items.map((value, index, array) => /*#__PURE__*/_jsxDEV(PlaylistDetailItem, {\n        youtubeId: value.link_id,\n        title: value.name,\n        listeners: value.current_listener,\n        selected: index === props.playlistData.current_playing_item_index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 73\n      }, this)) : /*#__PURE__*/_jsxDEV(ListRow, {\n        style: {\n          width: '100%',\n          marginRight: '0',\n          marginLeft: '0'\n        },\n        children: \"\\uC7AC\\uC0DD\\uBAA9\\uB85D\\uC5D0 \\uC544\\uBB34 \\uAC83\\uB3C4 \\uC5C6\\uC5B4\\uC694...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 12\n  }, this);\n};\n_c4 = PlaylistDetail;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"PlaylistDetailListener\");\n$RefreshReg$(_c2, \"PlaylistDetailDummyListener\");\n$RefreshReg$(_c3, \"PlaylistDetailItem\");\n$RefreshReg$(_c4, \"PlaylistDetail\");","map":{"version":3,"sources":["C:/Users/MUsoftware/Desktop/project/MUsoftware/mudev.cc/src/ui/page/playco/playlistResource.tsx"],"names":["React","OverlayTrigger","Tooltip","Icon","mdiPlus","mdiTools","mdiAccountCircle","ListRow","Divider","PHButton","YoutubeThumbnail","PlaylistListener","constructor","inObj","uuid","name","img_url","res_type","PlaylistItem","index","data","added_by_uuid","added_by_nick","link","link_type","link_id","current_listener","Playlist","created_by_uuid","created_by_nick","blocked_at","why_blocked","public_accessable","public_modifiable","items","current_playing_item_index","Object","prototype","hasOwnProperty","call","listener","result","tmpResultUUIDArray","map","playlistItemValue","playlistItemIndex","playlistItemArray","forEach","playlistItemListenerValue","playlistItemListenerIndex","playlistItemListenerArray","includes","push","PlaylistDetailListener","props","tooltipProps","nick","PlaylistDetailDummyListener","height","PlaylistDetailItem","isSelected","selected","alert","alignItems","marginLeft","marginRight","borderRadius","border","backgroundColor","youtubeId","title","listeners","length","value","array","PlaylistDetail","playlistData","margin","marginTop","marginBottom","width"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\r\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport Icon from '@mdi/react';\r\nimport { mdiPlus, mdiTools, mdiAccountCircle } from '@mdi/js';\r\n\r\nimport { ListRow } from \"../../common/element/muListRow\";\r\nimport { Divider } from \"../../common/element/divider\";\r\nimport { PHButton } from \"../../common/element/muButton\";\r\nimport { YoutubeThumbnail } from '../../common/element/util/youtubeThumbnail';\r\nimport './playlistDetailPage.css';\r\n\r\nexport class PlaylistListener {\r\n    public static readonly res_type = 'playco_playlist_listener';\r\n\r\n    uuid: number;\r\n    name: string;\r\n    img_url?: string | null;\r\n\r\n    constructor(inObj: any) {\r\n        this.uuid = inObj.uuid;\r\n        this.name = inObj.name;\r\n        this.img_url = inObj.img_url ?? null;\r\n    }\r\n}\r\n\r\nexport class PlaylistItem {\r\n    public static readonly res_type = 'playco_playlist_item';\r\n\r\n    uuid: number;\r\n    index: string;\r\n    name: string;\r\n    data: Record<string, unknown>;\r\n\r\n    added_by_uuid: number;\r\n    added_by_nick: string;\r\n\r\n    link: string;\r\n    link_type: string;\r\n    link_id: string;\r\n\r\n    // will be used in client only\r\n    current_listener: PlaylistListener[];\r\n\r\n    constructor(inObj: any) {\r\n        this.uuid = inObj.uuid;\r\n        this.index = inObj.index;\r\n        this.name = inObj.name;\r\n        this.data = inObj.data;\r\n\r\n        this.added_by_uuid = inObj.added_by_uuid;\r\n        this.added_by_nick = inObj.added_by_nick;\r\n\r\n        this.link = inObj.link;\r\n        this.link_type = inObj.link_type;\r\n        this.link_id = inObj.link_id;\r\n\r\n        this.current_listener = inObj.current_listener || [];\r\n    }\r\n}\r\n\r\nexport class Playlist {\r\n    public static readonly res_type = 'playco_playlist';\r\n\r\n    uuid: number;\r\n    index: number;\r\n    name: string;\r\n\r\n    created_by_uuid: number;\r\n    created_by_nick: string;\r\n\r\n    blocked_at?: string | null = null;\r\n    why_blocked?: string | null = null;\r\n\r\n    public_accessable: boolean;\r\n    public_modifiable: boolean;\r\n\r\n    items: PlaylistItem[];\r\n\r\n    // will be used in client only\r\n    current_playing_item_index: number;\r\n    current_listener: PlaylistListener[] = [];\r\n\r\n    constructor(inObj: any) {\r\n        this.uuid = inObj.uuid;\r\n        this.index = inObj.index;\r\n        this.name = inObj.name;\r\n\r\n        if (!Object.prototype.hasOwnProperty.call(inObj, 'blocked_at')) {\r\n            this.created_by_uuid = inObj.created_by_uuid;\r\n            this.created_by_nick = inObj.created_by_nick;\r\n\r\n            this.public_accessable = inObj.public_accessable;\r\n            this.public_modifiable = inObj.public_modifiable;\r\n\r\n            this.items = inObj.items;\r\n        } else {\r\n            this.created_by_uuid = 0;\r\n            this.created_by_nick = '';\r\n\r\n            this.public_accessable = false;\r\n            this.public_modifiable = false;\r\n\r\n            this.items = [];\r\n\r\n            this.blocked_at = inObj.blocked_at;\r\n            this.why_blocked = inObj.why_blocked;\r\n        }\r\n\r\n        this.current_playing_item_index = inObj.current_playing_item_index ?? 0;\r\n    }\r\n\r\n    get listener() {\r\n        const result: PlaylistListener[] = [];\r\n        const tmpResultUUIDArray: number[] = [];\r\n        this.items.map((playlistItemValue, playlistItemIndex, playlistItemArray) => {\r\n            playlistItemValue.current_listener.forEach((playlistItemListenerValue, playlistItemListenerIndex, playlistItemListenerArray) => {\r\n                if (tmpResultUUIDArray.includes(playlistItemListenerValue.uuid))\r\n                    return;\r\n\r\n                result.push(playlistItemListenerValue);\r\n                tmpResultUUIDArray.push(playlistItemListenerValue.uuid);\r\n            });\r\n        });\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\ntype PlaylistDetailListenerPropsType = {\r\n    uuid: number;\r\n    nick: string;\r\n    imgUrl?: string | null;\r\n}\r\n\r\nexport const PlaylistDetailListener = (props: PlaylistDetailListenerPropsType) => {\r\n    return <OverlayTrigger\r\n        placement='bottom'\r\n        overlay={(tooltipProps) => <Tooltip {...tooltipProps}>{props.nick}</Tooltip>} >\r\n        <Icon path={mdiAccountCircle} size='16pt' />\r\n    </OverlayTrigger>;\r\n}\r\n\r\nexport const PlaylistDetailDummyListener = () => {\r\n    return <div style={{ height: '16pt' }} />;\r\n}\r\n\r\ntype PlaylistDetailItemPropsType = {\r\n    youtubeId: string;\r\n    title: string;\r\n    listeners: PlaylistListener[];\r\n    selected?: boolean;\r\n}\r\n\r\nexport const PlaylistDetailItem = (props: PlaylistDetailItemPropsType) => {\r\n    const isSelected = props.selected || false;\r\n    return <ListRow\r\n        onClick={isSelected ? null : () => alert('1')}\r\n        className='playCoPlaylistDetailListItem'\r\n        itemWidth={[20, 15]}\r\n        style={{\r\n            // This cannot be moved to css,\r\n            // as we have to overwrite the element style of ListRow.\r\n            alignItems: 'center',\r\n            marginLeft: '0',\r\n            marginRight: '0',\r\n            borderRadius: '0.3rem',\r\n            ...(isSelected ? {\r\n                border: '1px solid rgba(255, 255, 255, 1)',\r\n                backgroundColor: 'rgba(0, 0, 0, 0.4)'\r\n            } : {})\r\n        }}>\r\n        <div className='playCoPlaylistDetailListItemThumbnailContainer'><YoutubeThumbnail youtubeId={props.youtubeId} /></div>\r\n        <div className='playCoPlaylistDetailListItemInfoContainer'>\r\n            <div className='playCoPlaylistDetailListItemTitle'>{props.title}</div>\r\n            <div className='playCoPlaylistDetailListItemListenerListContainer'>\r\n                <div className='playCoPlaylistDetailListItemListenerList'>\r\n                    {(props.listeners.length) ? (props.listeners.map((value, index, array) => {\r\n                        return <PlaylistDetailListener uuid={value.uuid} nick={value.name} imgUrl={value.img_url} />\r\n                    })) : <PlaylistDetailDummyListener />}\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </ListRow>\r\n}\r\n\r\ntype PlaylistDetailPropsType = {\r\n    playlistData: Playlist;\r\n}\r\n\r\nexport const PlaylistDetail = (props: PlaylistDetailPropsType) => {\r\n    return <aside className='playCoPlaylistDetailList'>\r\n        {/* playlist aside */}\r\n        <header>\r\n            <h5>{props.playlistData.name}</h5>\r\n        </header>\r\n        <Divider style={{ margin: 'unset', marginLeft: '0', marginRight: '0', marginTop: '1.25rem', marginBottom: '1.25rem' }} />\r\n        <input\r\n            title='Add item on playlist'\r\n            placeholder='재생목록에 추가할 URL'\r\n            className='playCoPlaylistDetailAddTextField'></input>\r\n        <div className='playCoPlaylistDetailBtnGroup'>\r\n            <PHButton smaller variant='outline-warning'>\r\n                <Icon path={mdiTools} size='1.1rem' />&nbsp;&nbsp;재생목록 설정\r\n            </PHButton>\r\n            <PHButton smaller variant='outline-info'>\r\n                <Icon path={mdiPlus} size='1.1rem' />&nbsp;&nbsp;재생목록에 추가하기\r\n            </PHButton>\r\n        </div>\r\n        <div>\r\n            {(props.playlistData.items.length)\r\n                ? props.playlistData.items.map((value, index, array) => <PlaylistDetailItem\r\n                    youtubeId={value.link_id}\r\n                    title={value.name}\r\n                    listeners={value.current_listener}\r\n                    selected={index === props.playlistData.current_playing_item_index}\r\n                />)\r\n                : <ListRow style={{ width: '100%', marginRight: '0', marginLeft: '0' }}>재생목록에 아무 것도 없어요...</ListRow>}\r\n        </div>\r\n    </aside>;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}